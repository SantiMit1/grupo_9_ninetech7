<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head.ejs") %> 
    <title>Registrarse</title>
</head>
<body>
    <header class="login">
        <figure>
            <a href="/"><img src="/img/logo.png" alt="logo" class="logo"></a>
        </figure>
        <a href="/"><i class="fa-solid fa-x close"></i></a>
    </header>
    <main class="login">
        <aside class="login">
            <figure>
                <a href="/"><img src="/img/logo.png" alt="logo" class="logo"></a>
            </figure>
            <img src="/img/gpu.png" alt="gpu" class="gpu">
        </aside>
        <div class="login-container">
            <div class="links">
                <a href="login" class="login">Iniciar Sesión</a>
                <a href="#" class="signup active">Registrarse</a>
            </div>
            <form action="/users/register" method="POST" enctype="multipart/form-data">
                <div class="nombre-apellido">
                    <input id="nombre" type="text" name="nombre" placeholder="Nombre" value="<%= locals.oldData ? oldData.nombre : null %>">
                    <input id="apellido" type="text" name="apellido" placeholder="Apellido" value="<%= locals.oldData ? oldData.apellido : null %>">
                </div>
                <span id="nombreFeedback"></span>
                <span id="apellidoFeedback"></span>
                <% if (locals.errors && errors.nombre) { %>
                    <span style="color: red;"><%= errors.nombre.msg %> </span>
                <% } %>
                <% if (locals.errors && errors.apellido) { %>
                    <span style="color: red; float: right;"><%= errors.apellido.msg %> </span>
                <% } %>
                <input id="email" type="email" name="email" placeholder="Correo Electronico" value="<%= locals.oldData ? oldData.email : null %>">
                <span id="emailFeedback"></span>
                <% if (locals.errors && errors.email) { %>
                    <span style="color: red;"><%= errors.email.msg %> </span>
                <% } %>
                <input id="localidad" type="text" name="localidad" placeholder="Localidad" value="<%= locals.oldData ? oldData.localidad : null %>">
                <span id="localidadFeedback"></span>
                <% if (locals.errors && errors.localidad) { %>
                    <span style="color: red;"><%= errors.localidad.msg %> </span>
                <% } %>
                <input id="direccion" type="text" name="direccion" placeholder="Calle" value="<%= locals.oldData ? oldData.direccion : null %>">
                <span id="direccionFeedback"></span>
                <% if (locals.errors && errors.direccion) { %>
                    <span style="color: red;"><%= errors.direccion.msg %> </span>
                <% } %>
                <input id="numero" type="number" name="numero" placeholder="Numero" value="<%= locals.oldData ? oldData.numero : null %>">
                <span id="numeroFeedback"></span>
                <% if (locals.errors && errors.numero) { %>
                    <span style="color: red;"><%= errors.numero.msg %> </span>
                <% } %>
                <input id="password" type="password" name="password" placeholder="Contraseña" >
                <span id="passwordFeedback"></span>
                <% if (locals.errors && errors.password) { %>
                    <span style="color: red;"><%= errors.password.msg %> </span>
                <% } %>
                <input id="repassword" type="password" name="password2" placeholder="Repetir Contraseña" >
                <span id="repasswordFeedback"></span>
                <% if (locals.errors && errors.password2) { %>
                    <span style="color: red;"><%= errors.password2.msg %> </span>
                <% } %>
                <label for="profilePic" class="register-form">Imagen de perfil</label>
                <input type="file" name="profilePic" id="profilePic"  accept=".png, .jpg, .jpeg">
                <% if (locals.errors && errors.profilePic) { %>
                    <span style="color: red;"><%= errors.profilePic.msg %> </span>
                <% } %>
                <input type="submit" value="Registrarse" class="submit">
            </form>
        </div>
    </main>
    <script src="/js/register.js"></script>
</body>
</html>